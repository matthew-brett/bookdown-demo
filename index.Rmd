--- 
title: "A Minimal Book Example"
author: "Yihui Xie"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
output: bookdown::gitbook
documentclass: book
bibliography: [book.bib, packages.bib]
biblio-style: apalike
link-citations: yes
github-repo: rstudio/bookdown-demo
description: "This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook."
---

# Prerequisites

This is a _sample_ book written in **Markdown**. You can use anything that Pandoc's Markdown supports, e.g., a math equation $a^2 + b^2 = c^2$.

The **bookdown** package can be installed from CRAN or Github:

```{r eval=FALSE}
install.packages("bookdown")
# or the development version
# devtools::install_github("rstudio/bookdown")
```

Remember each Rmd file contains one and only one chapter, and a chapter is defined by the first-level heading `#`.

To compile this example to PDF, you need XeLaTeX. You are recommended to install TinyTeX (which includes XeLaTeX): <https://yihui.name/tinytex/>.

```{r include=FALSE}
# automatically create a bib database for R packages
knitr::write_bib(c(
  .packages(), 'bookdown', 'knitr', 'rmarkdown'
), 'packages.bib')
```

I'm also interested in Python code.

```{r, echo=FALSE}
library(reticulate)
```

```{python, opts.label='py_ed'}
a = 1
a
```

```{r}
str(knitr::opts_knit$get())
```



```{R, opts.label='r_ed'}
a <- 2
print(a)
```

```{python, echo=FALSE}
import matplotlib
matplotlib.use('Agg')
```

(ref:bar) Some *text*

(ref:bar)

Here is a Python plot:


`r begin_nb('first')`
`r begin_isnb()`

This is some explanation about the notebook.

It can use references: (ref:bar) - and macros: `r BL`.

`r end_isnb()`

```{python, opts.label="py_ed"}
import matplotlib.pyplot as plt
plt.plot([0, 2, 1, 4])
plt.show()
```

A normal paragraph.

`r end_nb()`

(ref:foo) A scatterplot of the data `cars` using **base** R graphics.

```{r foo, fig.cap='(ref:foo)'}
plot(cars)  # a scatterplot
```

We are using `r book_lang` in these examples.

`r begin_isr()`
This is the R version
`r end_isr()`
`r begin_ispy()`
This is the Python version
`r end_ispy()`

<!--- end-test
-->
